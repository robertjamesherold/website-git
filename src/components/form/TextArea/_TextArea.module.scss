
.textAreaContainer
{
    display: flex;
    flex-direction: column;

    width: $space100;

    gap: $space0n5;
    grid-row: span 3;
    grid-column: span 12;
}

.colSix
{
    display: flex;
    flex-direction: column;

    grid-column: span 6;
}

.colFull
{
    display: flex;
    flex-direction: column;

    grid-column: span 12;
}

// Label Styles
.textAreaLabel
{
    font-size: $h6;
    font-weight: 700;

    width: $space100;
    margin-bottom: $space0n25;
    padding-left: $space0n25;

    color: $clrTx1;
    border-radius: $bR1;
}

// TextArea Field Styles
.textAreaField
{
    font-family: inherit;
    font-size: $p;
    // Text und Placeholder immer oben
    line-height: $line-height-base;
    // Explizit für alle Browser - Text beginnt oben

    display: block;
    overflow: hidden;

    box-sizing: border-box;
    width: $space100;
    min-height: 100px;
    margin-top: $space0n5;
    padding: $space0n75 $space1;
    padding-bottom: $space12;

    resize: vertical;
    transition: all .2s ease-in-out;
    text-align: left;
    vertical-align: top;

    color: $clrTx1;
    border: $border1;
    border-radius: $bR1;
    background-color: $clrBg1;

    direction: ltr;
    // Für Safari und andere Browser
    -webkit-appearance: none;
            appearance: none;
    // Mobile Safari Fix
    -webkit-text-fill-color: $clrTx1;
    -webkit-opacity: 1;

    // Focus State
    &:focus
    {
        border-color: $clr1D;
        outline: none;
        background-color: $clr0W;
        box-shadow: 0 0 0 3px rgba($clr1, .1);
    }

    // Placeholder Styles
    &::placeholder
    {
        font-size: 12px;
        font-weight: 400;

        transition: opacity .1s ease;

        color: $clrTx2;
    }

    &:focus::placeholder
    {
        transition: opacity .1s ease;

        opacity: .2;
    }

    // Browser-specific placeholder styles
    &::-webkit-input-placeholder
    {
        transition: color .1s ease;

        color: $clrTx2;
    }

    &::-moz-placeholder
    {
        transition: color .1s ease;

        color: $clrTx2;
    }

    &::-ms-input-placeholder
    {
        transition: color .1s ease;

        color: $clrTx2;
    }

    // Invalid State - nur wenn das Feld bereits berührt wurde
    &:invalid:not(:placeholder-shown)
    {
        border-color: $clr5;

        &::placeholder
        {
            color: $clr5;
        }
    }

    // Valid State - nur wenn das Feld bereits berührt wurde
    &:valid:not(:placeholder-shown)
    {
        border-color: $clr3;

        &::placeholder
        {
            color: $clr3;
        }
    }

    // Disabled State
    &:disabled
    {
        cursor: not-allowed;

        color: $clrTx2;
        border-color: $gray-300;
        background-color: $gray-100;

        &::placeholder
        {
            color: $clrTx2;
        }

        &:focus
        {
            border-color: $gray-300;
            outline: none;
            box-shadow: none;

            &::placeholder
            {
                transition: opacity .1s ease;

                opacity: .5;
            }
        }
    }

    // Focus-within (für Container)
    &:focus-within
    {
        border-color: $clr1;

        &::placeholder
        {
            transition: opacity .1s ease;

            opacity: .2;
        }

        &::-webkit-input-placeholder
        {
            transition: color .1s ease;

            color: $clrTx2;
        }

        &::-moz-placeholder
        {
            transition: color .1s ease;

            color: $clrTx2;
        }

        &::-ms-input-placeholder
        {
            transition: color .1s ease;

            color: $clrTx2;
        }
    }
}

// =============================================================================
// RESPONSIVE IMPROVEMENTS
// =============================================================================

@media (max-width: $md)
{
    .colSix
    {
        grid-column: span 12;
    }

    .textAreaField
    {
        display: block;

        min-height: 100px;
        // Android Fix

        resize: none;
        text-align: left;
        // Explizit für Mobile - Text oben
        vertical-align: top;
        // iOS Safari Fix

        -webkit-text-fill-color: $clrTx1;
        -webkit-opacity: 1;
    }
}

// =============================================================================
// ACCESSIBILITY IMPROVEMENTS
// =============================================================================

@media (prefers-reduced-motion: reduce)
{
    .textAreaField
    {
        transition: none;

        &::placeholder,
        &::-webkit-input-placeholder,
        &::-moz-placeholder,
        &::-ms-input-placeholder
        {
            transition: none;
        }
    }
}

// Dark mode support (falls gewünscht)
@media (prefers-color-scheme: dark)
{
    .textAreaField
    {
        color: $clr0W;
        border-color: $gray-600;
        background-color: $gray-800;

        &:focus
        {
            border-color: $clr1L;
            background-color: $gray-700;
        }

        &::placeholder
        {
            color: $gray-400;
        }
    }

    .textAreaLabel
    {
        color: $clr0W;
    }
}
